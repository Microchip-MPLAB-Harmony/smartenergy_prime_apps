<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="concept" />
<meta name="DC.title" content="Transmission" />
<meta name="DC.relation" scheme="URI" content="GUID-D8E2814E-98EA-4380-A781-862A488F5734.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D" />
<meta name="DC.language" content="en-US" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>Transmission</title>
<meta name="Microsoft.Help.Id" content="GUID-B0EED1DD-60EE-41BF-A319-00EF8C6E51CB-GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D" />
<meta name="Microsoft.Help.TocParent" content="GUID-B0EED1DD-60EE-41BF-A319-00EF8C6E51CB-GUID-D8E2814E-98EA-4380-A781-862A488F5734" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Smart Energy PRIME Applications Reference A 04/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D">

<h1 class="title topictitle1" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-98AFA0B5-AA07-43C7-BC95-BAEE9B898E92">Transmission</h1>
<div class="body conbody">
        <p class="p">In the PLC &amp; Go application, to transmit a message, it is only needed to call the
            function <code class="ph codeph">APP_PLC_SendData()</code> passing as parameters the pointer to the
            data buffer and the data length. The function includes the length of the message to
            transmit in the first two bytes of the data buffer so that, at the reception of the
            message, it is possible to know the real length of the message.</p>

        <p class="p">Any message transmitted by the PLC_PHY module requires a header including some
            transmission parameters. These parameters and the data are stored in the structure <a class="xref" href="#GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-FD496811-F1AF-4D56-81F4-814F66EAEB58"><code class="ph codeph">DRV_PLC_PHY_TRANSMISSION_OBJ</code></a>.</p>

        <p class="p">The PLC &amp; Go application only allow the configuration of some transmission parameters
            related to the modulation. The rest of the parameters required to send a PLC message are
            configured by default during the initialization stage in the function
                <code class="ph codeph">APP_PLC_SetInitialConfiguration()</code> in the state
                <code class="ph codeph">APP_PLC_STATE_OPEN</code>.</p>

        <p class="p">The function <code class="ph codeph">APP_PLC_SetInitialConfiguration()</code> configures the
            transmission parameters and stores the values in the structure.</p>

        <p class="p">Once the transmission is configured, the function <code class="ph codeph">APP_PLC_SendData()</code>
            prepares the data to be sent by PLC, storing the data in the transmission buffer
                (<code class="ph codeph">appPlcTx.pDataTx</code>) and indicating the length of the data buffer
                (<code class="ph codeph">appPlcTx.pl360Tx.dataLength</code>). When all the information is in the
            transmission structure, the function <code class="ph codeph">DRV_PLC_PHY_Send()</code> sends the PLC
            message. </p>

        <p class="p">After sending the message to be transmitted to the PLC_PHY device, a TX data confirm
            event is triggered indicating the result of the transmission. This event is managed by
            the <code class="ph codeph">APP_PLC_DataCfmCb()</code> callback function. This callback receives as
            parameter a data structure of type <a class="xref" href="#GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-5FBF00EB-BA0A-4BB9-A15C-21A80FC044E4"><code class="ph codeph">DRV_PLC_PHY_TRANSMISSION_CFM_OBJ</code></a>. </p>

        <ol class="ol" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-6AA49BE0-33FC-46DC-9E1F-BBAFA5157BC5">
            <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-FD496811-F1AF-4D56-81F4-814F66EAEB58"><span class="indent-level-default">1.</span><strong class="ph b">Structure
                        <code class="ph codeph">DRV_PLC_PHY_TRANSMISSION_OBJ</code></strong><div class="p">
                    <pre class="pre codeblock" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__CODEBLOCK_KG3_4ZS_CTB"><button title="Copy Code" class="copy-code" onclick="cpy('d772e81', this);">Copy</button><code id="d772e81" content="// *****************************************************************************&#xA;/* PRIME Transmission setup data&#xA;&#xA;   Summary&#xA;    This struct includes all information to describe any transmissions.&#xA;&#xA;   Remarks:&#xA;    None&#xA;*/&#xA;typedef struct __attribute__((packed, aligned(1))) {&#xA;  /* Pointer to data buffer to transmit */&#xA;  uint8_t *pTransmitData;&#xA;  /* Instant when transmission has to start referred to 1us PHY counter */&#xA;  uint32_t time;&#xA;  /* Length of the data to transmit in bytes */&#xA;  uint16_t dataLength;&#xA;  /* Transmission Mode (absolute, relative, cancel, continuous). Constants above */&#xA;  uint8_t mode;&#xA;  /* Attenuation level with which the message will be transmitted */&#xA;  uint8_t attenuation;&#xA;  /* Forced transmission */&#xA;  uint8_t forced;&#xA;  /* Buffer Id used for transmission */&#xA;  DRV_PLC_PHY_BUFFER_ID bufferId;&#xA;  /* Scheme of Modulation */&#xA;  DRV_PLC_PHY_SCH scheme;&#xA;  /* PRIME Frame type */&#xA;  DRV_PLC_PHY_FRAME_TYPE frameType;&#xA;} DRV_PLC_PHY_TRANSMISSION_OBJ;">// *****************************************************************************
/* PRIME Transmission setup data

   Summary
    This struct includes all information to describe any transmissions.

   Remarks:
    None
*/
typedef struct __attribute__((packed, aligned(1))) {
  /* Pointer to data buffer to transmit */
  uint8_t *pTransmitData;
  /* Instant when transmission has to start referred to 1us PHY counter */
  uint32_t time;
  /* Length of the data to transmit in bytes */
  uint16_t dataLength;
  /* Transmission Mode (absolute, relative, cancel, continuous). Constants above */
  uint8_t mode;
  /* Attenuation level with which the message will be transmitted */
  uint8_t attenuation;
  /* Forced transmission */
  uint8_t forced;
  /* Buffer Id used for transmission */
  DRV_PLC_PHY_BUFFER_ID bufferId;
  /* Scheme of Modulation */
  DRV_PLC_PHY_SCH scheme;
  /* PRIME Frame type */
  DRV_PLC_PHY_FRAME_TYPE frameType;
} DRV_PLC_PHY_TRANSMISSION_OBJ;</code></pre>
                </div>
<p class="p">Transmission messages are composed using data structure
                        <code class="ph codeph">DRV_PLC_PHY_TRANSMISSION_OBJ</code> defined in
                        <code class="ph codeph">drv_plc_phy_comm.h</code>.</p>
<div class="p"> Where: <ul class="ul" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__UL_B1R_JC2_KKB">
                        <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-AE3B2F12-5D49-4069-8470-6B7EF378ABCA"><code class="ph codeph">pTransmitData</code>: Pointer to the buffer containing
                            the data to transmit</li>

                        <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-204D3DB9-C8FD-417D-A315-DBACCCB6EC5E"><code class="ph codeph">time</code>:
                            Delay to send the message in ms referred to PLC_PHY internal timer</li>

                        <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-B62ABE12-1DC0-415A-B68A-304572649B01"><code class="ph codeph">dataLength</code>: length of the data buffer containing
                            the data to transmit</li>

                        <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-14FB7DFD-30D2-474A-AE66-CEA711DEDC94"><code class="ph codeph">mode</code>:
                            Transmission mode</li>

                    </ul>
</div>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__TABLE_WBS_4FC_CKB" class="table nocolor" frame="border" border="1" rules="all">
                        <col style="width:40%" />
                        <col style="width:60%" />
                        <thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d772e128"><span>uc_tx_mode</span></th>

                                <th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d772e131"><span>Description</span></th>

                            </tr>

                        </thead>

                        <tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e128 "><span>TX_MODE_ABSOLUTE</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e131 "><span>The message is sent at the
                                    specified time, referred to PL360 internal timer (1 us). Time
                                    defined in <code class="ph codeph">ul_tx_time</code></span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e128 "><span>TX_MODE_RELATIVE</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e131 "><span>The message is sent with a delay
                                    referred to the transmission request time. Delay defined in
                                        <code class="ph codeph">ul_tx_time</code></span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e128 "><span>TX_MODE_PREAMBLE_CONTINUOUS</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e131 "><span>Continuous transmission of the
                                    preamble. Used for testing</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e128 "><span>TX_MODE_SYMBOLS_CONTINUOUS</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e131 "><span>Continuous transmission of a
                                    message. Used for testing</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e128 "><span>TX_MODE_CANCEL</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e131 "><span>Cancels the ongoing transmission
                                    (started or programmed)</span></td>

                            </tr>

                        </tbody>

                    </table>
</div>
<ul class="ul" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__UL_LSV_WS2_KKB">
                    <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-374B4100-00D1-476D-ABD4-4BCB7C45B5D8"><code class="ph codeph">attenuation</code>:
                        Attenuation level with which the message will be transmitted</li>

                    <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-1CEBF5E9-1B16-43CE-9591-0CDBE1989977"><code class="ph codeph">bufferId</code>: Buffer to store the transmission data. There are
                        two available buffers. But transmissions cannot be overlapped in time. In
                        that case, TX_BUFFER_0 has priority</li>

                </ul>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__TABLE_OY5_WY4_3TB" class="table nocolor" frame="border" border="1" rules="all">
                        <col style="width:40%" />
                        <col style="width:60%" />
                        <thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d772e213"><span>bufferId</span></th>

                                <th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d772e216"><span>Description</span></th>

                            </tr>

                        </thead>

                        <tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e213 "><span>TX_BUFFER_0</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e216 "><span>First transmission
                                    buffer</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e213 "><span>TX_BUFFER_1</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e216 "><span>Second transmission
                                    buffer</span></td>

                            </tr>

                        </tbody>

                    </table>
</div>
<ul class="ul" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__UL_LG3_4ZS_CTB">
                    <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-D3F5DC88-F39B-4989-B9D7-EC28FBDA9BA4"><code class="ph codeph">modScheme</code>:
                        Modulation scheme</li>

                </ul>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__TABLE_YXW_Z2H_QFB" class="table nocolor" frame="border" border="1" rules="all">
                        <col style="width:33.33333333333333%" />
                        <col style="width:16.666666666666664%" />
                        <col style="width:50%" />
                        <thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d772e264"><span>uc_mod_scheme</span></th>

                                <th class="entry cellrowborder" style="text-align:center;vertical-align:middle;" id="d772e267"><span>Value</span></th>

                                <th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d772e270"><span>Description</span></th>

                            </tr>

                        </thead>

                        <tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e264 "><span>SCHEME_DBPSK</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e267 "><span>0 </span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e270 "><span>Differential BPSK</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e264 "><span>SCHEME_DQPSK</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e267 "><span>1 </span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e270 "><span>Differential QPSK</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e264 "><span>SCHEME_D8PSK</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e267 "><span>2</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e270 "><span>Differential 8PSK</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e264 "><span>SCHEME_DBPSK_C</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e267 "><span>4</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e270 "><span>Differential BPSK
                                    Convolutional</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e264 "><span>SCHEME_DQPSK_C</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e267 "><span>5</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e270 "><span>Differential QPSK
                                    Convolutional</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e264 "><span>SCHEME_D8PSK_C</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e267 "><span>6</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e270 "><span>Differential 8PSK
                                    Convolutional</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e264 "><span>SCHEME_R_DBPSK</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e267 "><span>12</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e270 "><span>Robust Differential BPSK</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e264 "><span>SCHEME_R_DQPSK</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e267 "><span>13</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e270 "><span>Robust Differential QPSK</span></td>

                            </tr>

                        </tbody>

                    </table>
</div>
<ul class="ul" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__UL_OKS_MP4_3TB">
                    <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-2D5083EA-9E4B-4EB3-A6F3-026B41B401C1"><code class="ph codeph">frameType</code>: Frame Type</li>

                </ul>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__TABLE_OSN_PV4_3TB" class="table nocolor" frame="border" border="1" rules="all">
                        <col style="width:33.33333333333333%" />
                        <col style="width:16.666666666666664%" />
                        <col style="width:50%" />
                        <thead class="thead" style="text-align:left;">
                            <tr class="row">
                                <th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d772e397"><span>frameType</span></th>

                                <th class="entry cellrowborder" style="text-align:center;vertical-align:middle;" id="d772e400"><span>Value</span></th>

                                <th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d772e403"><span>Description</span></th>

                            </tr>

                        </thead>

                        <tbody class="tbody">
                            <tr class="row">
                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e397 "><span>FRAME_TYPE_A</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e400 "><span>0 </span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e403 "><span>Frame Type A</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e397 "><span>FRAME_TYPE_B</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e400 "><span>2</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e403 "><span>Frame Type B</span></td>

                            </tr>

                            <tr class="row">
                                <td class="entry cellrowborder" style="vertical-align:middle;" headers="d772e397 "><span>FRAME_TYPE_BC</span></td>

                                <td class="entry cellrowborder" style="text-align:center;vertical-align:middle;" headers="d772e400 "><span>3</span></td>

                                <td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d772e403 "><span>Frame Type BC</span></td>

                            </tr>

                        </tbody>

                    </table>
</div>
</li>

            <li class="li" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__GUID-5FBF00EB-BA0A-4BB9-A15C-21A80FC044E4"><span class="indent-level-default">2.</span><strong class="ph b">Structure <code class="ph codeph">DRV_PLC_PHY_TRANSMISSION_CFM_OBJ</code></strong><div class="p">
                    <pre class="pre codeblock" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__CODEBLOCK_MG3_4ZS_CTB"><button title="Copy Code" class="copy-code" onclick="cpy('d772e456', this);">Copy</button><code id="d772e456" content="// *****************************************************************************&#xA;/* PRIME Result of a transmission&#xA;&#xA;   Summary&#xA;    This struct includes all information to describe any result of a previous &#xA;    transmission.&#xA;&#xA;   Remarks:&#xA;    None&#xA;*/&#xA;typedef struct {&#xA;  /* Instant when frame transmission started referred to 1us PHY counter */&#xA;  uint32_t time;&#xA;  /* RMS value emitted */&#xA;  uint32_t rmsCalc;&#xA;  /* PRIME Frame type */&#xA;  DRV_PLC_PHY_FRAME_TYPE frameType;&#xA;  /* Tx Result (see &#34;TX Result values&#34; above) */&#xA;  DRV_PLC_PHY_TX_RESULT result;&#xA;  /* Buffer Id used for transmission */&#xA;  DRV_PLC_PHY_BUFFER_ID bufferId;&#xA;} DRV_PLC_PHY_TRANSMISSION_CFM_OBJ;">// *****************************************************************************
/* PRIME Result of a transmission

   Summary
    This struct includes all information to describe any result of a previous 
    transmission.

   Remarks:
    None
*/
typedef struct {
  /* Instant when frame transmission started referred to 1us PHY counter */
  uint32_t time;
  /* RMS value emitted */
  uint32_t rmsCalc;
  /* PRIME Frame type */
  DRV_PLC_PHY_FRAME_TYPE frameType;
  /* Tx Result (see "TX Result values" above) */
  DRV_PLC_PHY_TX_RESULT result;
  /* Buffer Id used for transmission */
  DRV_PLC_PHY_BUFFER_ID bufferId;
} DRV_PLC_PHY_TRANSMISSION_CFM_OBJ;</code></pre>
                </div>
<div class="p">The event returns one of the following transmission result values:
                    <pre class="pre codeblock" id="GUID-23C1C481-5759-45DD-99E8-F29F74ABDB0D__CODEBLOCK_NG3_4ZS_CTB"><button title="Copy Code" class="copy-code" onclick="cpy('d772e461', this);">Copy</button><code id="d772e461" content="// *****************************************************************************&#xA;/* PRIME Result values of a previous transmission&#xA;&#xA;   Summary&#xA;    This list involves all available results from MCHP implementation&#xA;&#xA;   Remarks:&#xA;    None&#xA;*/&#xA;typedef enum {&#xA;  /* Transmission result: already in process */&#xA;  DRV_PLC_PHY_TX_RESULT_PROCESS = 0,&#xA;  /* Transmission result: end successfully */&#xA;  DRV_PLC_PHY_TX_RESULT_SUCCESS = 1,&#xA;  /* Transmission result: invalid length error */&#xA;  DRV_PLC_PHY_TX_RESULT_INV_LENGTH = 2,&#xA;  /* Transmission result: busy channel error */&#xA;  DRV_PLC_PHY_TX_RESULT_BUSY_CH = 3,&#xA;  /* Transmission result: busy in transmission error */&#xA;  DRV_PLC_PHY_TX_RESULT_BUSY_TX = 4,&#xA;  /* Transmission result: busy in reception error */&#xA;  DRV_PLC_PHY_TX_RESULT_BUSY_RX = 5,&#xA;  /* Transmission result: invalid modulation scheme error */&#xA;  DRV_PLC_PHY_TX_RESULT_INV_SCHEME = 6,&#xA;  /* Transmission result: timeout error */&#xA;  DRV_PLC_PHY_TX_RESULT_TIMEOUT = 7,&#xA;  /* Transmission result: invalid buffer identifier error */&#xA;  DRV_PLC_PHY_TX_RESULT_INV_BUFFER = 8,&#xA;  /* Transmission result: invalid PRIME Mode error */&#xA;  DRV_PLC_PHY_TX_RESULT_INV_MODE = 9,&#xA;  /* Transmission result: invalid transmission mode */&#xA;  DRV_PLC_PHY_TX_RESULT_INV_TX_MODE = 10,&#xA;  /* Transmission result: Transmission cancelled */&#xA;  DRV_PLC_PHY_TX_RESULT_CANCELLED = 11,&#xA;  /* Transmission result: high temperature error */&#xA;  DRV_PLC_PHY_TX_RESULT_HIGH_TEMP_120 = 12,&#xA;  /* Transmission result: high temperature warning */&#xA;  DRV_PLC_PHY_TX_RESULT_HIGH_TEMP_110 = 13,&#xA;  /* Transmission result: No transmission ongoing */&#xA;  DRV_PLC_PHY_TX_RESULT_NO_TX = 255,&#xA;} DRV_PLC_PHY_TX_RESULT;&#xA;">// *****************************************************************************
/* PRIME Result values of a previous transmission

   Summary
    This list involves all available results from MCHP implementation

   Remarks:
    None
*/
typedef enum {
  /* Transmission result: already in process */
  DRV_PLC_PHY_TX_RESULT_PROCESS = 0,
  /* Transmission result: end successfully */
  DRV_PLC_PHY_TX_RESULT_SUCCESS = 1,
  /* Transmission result: invalid length error */
  DRV_PLC_PHY_TX_RESULT_INV_LENGTH = 2,
  /* Transmission result: busy channel error */
  DRV_PLC_PHY_TX_RESULT_BUSY_CH = 3,
  /* Transmission result: busy in transmission error */
  DRV_PLC_PHY_TX_RESULT_BUSY_TX = 4,
  /* Transmission result: busy in reception error */
  DRV_PLC_PHY_TX_RESULT_BUSY_RX = 5,
  /* Transmission result: invalid modulation scheme error */
  DRV_PLC_PHY_TX_RESULT_INV_SCHEME = 6,
  /* Transmission result: timeout error */
  DRV_PLC_PHY_TX_RESULT_TIMEOUT = 7,
  /* Transmission result: invalid buffer identifier error */
  DRV_PLC_PHY_TX_RESULT_INV_BUFFER = 8,
  /* Transmission result: invalid PRIME Mode error */
  DRV_PLC_PHY_TX_RESULT_INV_MODE = 9,
  /* Transmission result: invalid transmission mode */
  DRV_PLC_PHY_TX_RESULT_INV_TX_MODE = 10,
  /* Transmission result: Transmission cancelled */
  DRV_PLC_PHY_TX_RESULT_CANCELLED = 11,
  /* Transmission result: high temperature error */
  DRV_PLC_PHY_TX_RESULT_HIGH_TEMP_120 = 12,
  /* Transmission result: high temperature warning */
  DRV_PLC_PHY_TX_RESULT_HIGH_TEMP_110 = 13,
  /* Transmission result: No transmission ongoing */
  DRV_PLC_PHY_TX_RESULT_NO_TX = 255,
} DRV_PLC_PHY_TX_RESULT;
</code></pre></div>
</li>

        </ol>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-D8E2814E-98EA-4380-A781-862A488F5734.html">Application Example</a></div>
</div>
</div></body>
</html>